{"resourceType":"SearchParameter","id":"MedicationDispense-whendispensed","url":"http://nictiz.nl/fhir/SearchParameter/MedicationDispense-whendispensed","version":"1.0.1","name":"MedicationDispense-whendispensed","status":"active","experimental":true,"publisher":"Nictiz","contact":[{"name":"Nictiz","telecom":[{"system":"email","value":"info@nictiz.nl","use":"work"}]}],"purpose":"To select the medication dispense instances based on the date/time medication was handed over or, if this is unavailable, when it was prepared","code":"whendispensed","base":["MedicationDispense"],"type":"date","description":"The information in whenHandedOver is not always available. In this case you want to be able to select based on the next best thing which is whenPrepared. The existing parameters whenHandedOver and whenPrepared would not let you query that way.","expression":"MedicationDispense.select(iif (whenHandedOver.empty(), whenPrepared, whenHandedOver))","xpath":"if (f:MedicationDispense/f:whenHandedOver[@value]) then f:MedicationDispense/f:whenHandedOver/@value else f:MedicationDispense/f:whenPrepared/@value","xpathUsage":"normal","comparator":["le","ge"]}